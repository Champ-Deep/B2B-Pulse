# =============================================================================
# B2B Pulse Environment Variables
# =============================================================================
# NEVER commit the actual .env file — it contains secrets.
# Copy this file to .env and fill in all values.
# For production (Railway), set these as service environment variables.

# App
APP_NAME=B2B Pulse
APP_ENV=development                          # development | production
CORS_ORIGINS=http://localhost:5173           # comma-separated frontend origins

# Database — local docker-compose postgres (Railway/Render auto-injects DATABASE_URL)
DATABASE_URL=postgresql+asyncpg://autoengage:autoengage_dev@postgres:5432/autoengage

# Redis — local docker-compose redis (Railway/Render auto-injects REDIS_URL)
REDIS_URL=redis://redis:6379/0

# JWT Auth
# Generate: python -c "import secrets; print(secrets.token_urlsafe(48))"
JWT_SECRET=your-secret-key-change-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Encryption — encrypts OAuth tokens at rest
# Generate: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
FERNET_KEY=your-fernet-key

# ---------- LinkedIn OAuth ----------
# 1. Go to https://developer.linkedin.com/  →  Create App
# 2. Add product: "Sign In with LinkedIn using OpenID Connect"
# 3. Add product: "Share on LinkedIn" (grants w_member_social)
# 4. Under Auth tab, add redirect URI below
# 5. Copy Client ID and Client Secret
LINKEDIN_CLIENT_ID=your-linkedin-client-id
LINKEDIN_CLIENT_SECRET=your-linkedin-client-secret
LINKEDIN_REDIRECT_URI=http://localhost:8000/api/integrations/linkedin/callback
LINKEDIN_AUTH_REDIRECT_URI=http://localhost:8000/api/auth/linkedin/callback

# ---------- Browser Proxy (optional) ----------
# Residential proxy for browser automation (LinkedIn detection prevention)
# Format: protocol://username:password@host:port
# Examples:
#   Bright Data: http://username:password@brd.superproxy.io:33335
#   SmartProxy: http://username:password@gateway.smartproxy.com:7000
# Leave empty to use direct connection (no proxy)
BROWSER_PROXY_URL=

# ---------- Meta (Facebook/Instagram) OAuth ----------
# 1. Go to https://developers.facebook.com/  →  Create App (Business type)
# 2. Add Facebook Login product
# 3. Under Settings → Basic, copy App ID and App Secret
# 4. Under Facebook Login → Settings, add redirect URI below
# 5. Required permissions: pages_show_list, pages_read_engagement,
#    pages_manage_posts, pages_manage_engagement, instagram_basic,
#    instagram_manage_comments, instagram_content_publish
META_APP_ID=your-meta-app-id
META_APP_SECRET=your-meta-app-secret
META_REDIRECT_URI=http://localhost:8000/api/integrations/meta/callback

# ---------- OpenRouter (LLM for comment generation) ----------
# Sign up at https://openrouter.ai/ and create an API key
OPENROUTER_API_KEY=your-openrouter-api-key
OPENROUTER_GENERATION_MODEL=anthropic/claude-sonnet-4-5-20250929
OPENROUTER_REVIEW_MODEL=anthropic/claude-haiku-4-5-20251001

# ---------- Cloudflare R2 (S3-compatible, optional) ----------
R2_ACCOUNT_ID=your-account-id
R2_ACCESS_KEY_ID=your-access-key
R2_SECRET_ACCESS_KEY=your-secret-key
R2_BUCKET_NAME=b2bpulse-assets
R2_ENDPOINT_URL=https://your-account-id.r2.cloudflarestorage.com

# WhatsApp Sidecar
WHATSAPP_SIDECAR_URL=http://whatsapp-sidecar:3001

# Frontend (used at build time for Vite)
VITE_API_URL=http://localhost:8000/api

# Sentry (optional — leave empty to disable)
SENTRY_DSN=
